# Чтение входных данных
n = int(input())
forest = [input() for _ in range(n)]

# Инициализация массива для динамического программирования
dp = [[0, 0, 0] for _ in range(n)]

# Обработка первой строки леса
for j in range(3):
    if forest[0][j] == 'C':  # Если в клетке растут грибочки белые
        dp[0][j] = 1

# Вычисление количества грибов для каждой клетки
for i in range(1, n):
    for j in range(3):
        if forest[i][j] != 'W':  # Если в клетке нет кустов кусачих
            dp[i][j] = max(dp[i][j], dp[i - 1][j])  # Переходим из клетки сверху
            if j > 0:
                dp[i][j] = max(dp[i][j], dp[i - 1][j - 1])  # Переходим из клетки сверху и слева
            if j < 2:
                dp[i][j] = max(dp[i][j], dp[i - 1][j + 1])  # Переходим из клетки сверху и справа
            if forest[i][j] == 'C':  # Если в клетке растут грибочки белые
                dp[i][j] += 1

# Находим максимальное количество грибов, которые можно собрать
max_mushrooms = max(dp[n - 1])

# Вывод результата
print(max_mushrooms)